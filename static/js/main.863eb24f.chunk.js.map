{"version":3,"sources":["media/trash.svg","media/check.svg","services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","helpers/calc.js","pages/Chat.js","helpers/auth.js","pages/Signup.js","pages/Login.js","pages/Teacher.js","pages/NotFound.js","components/Funkteilnehmer.js","pages/Join.js","components/Cities.js","pages/City.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","auth","db","database","firestore","Header","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","signOut","Footer","href","target","rel","Home","this","props","authenticated","Component","operations","clothing","age","birthday","ageDifMs","Date","now","getTime","ageDate","Math","abs","getUTCFullYear","messages","Chat","redirect","pathname","state","user","chats","station","getStation","content","readError","writeError","successMessage","errorMessage","loadingChats","otherStations","selectedValues","persons","docId","wantingMore","change","bind","handleCalc","handlePerson","handleAlarm","handleBridge","handleDelete","handleChange","handleSubmit","handleWantingMore","myRef","React","createRef","undefined","location","data","setState","stationsRef","collection","city","where","uid","get","then","snaps","forEach","snap","catch","err","console","error","stationUpdateListener","doc","onSnapshot","Bezeichnung","stations","push","sort","a","b","listener","chatArea","current","ref","name","on","snapshot","val","timestamp","scrollBy","scrollHeight","message","off","event","value","preventDefault","map","replace","RegExp","receiver","length","person","round","random","indexOf","filter","el","lastname","firstname","height","color","Ort","firstPart","secondPart","randomTerm","set","seatedStations","update","setTimeout","d","minutes","getMinutes","getDate","getMonth","getFullYear","getHours","selectedOptions","Rufname","role","slice","chat","newMessage","alarm","includes","key","classList","remove","formatTime","onSubmit","multiple","onChange","email","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","signInAnonymous","signInAnonymously","SignUp","password","googleSignIn","githubSignIn","createUserWithEmailAndPassword","placeholder","anonSignIn","Login","signInWithEmailAndPassword","autoComplete","updateInput","e","add","NotFound","Funkteilnehmer","username","errorWrite","linkClicked","cancelled","stationRef","prompt","res","currentTarget","alert","disabled","src","trash","alt","check","Join","getCity","loadingStations","newRufname","newOrt","getCityName","newBezeichnung","input","newStations","Cities","aria-describedby","cities","loadingCities","PrivateRoute","component","rest","render","from","PublicRoute","App","loading","onAuthStateChanged","exact","path","Teacher","City","Signup","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.863eb24f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/trash.ea3322d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.3a7e9691.svg\";","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyCYsI4H3EdRmbjgL5pos2pdHVUmP2S2Hkk\",\r\n    authDomain: \"dlrgfunk.firebaseapp.com\",\r\n    databaseURL: \"https://dlrgfunk.firebaseio.com\",\r\n    projectId: \"dlrgfunk\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth;\r\nexport const db = firebase.database();\r\nexport const firestore = firebase.firestore();\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { auth } from \"../services/firebase\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header>\r\n            <nav className=\"navbar navbar-expand-sm fixed-top navbar-light bg-light\">\r\n                <Link className=\"navbar-brand\" to=\"/dlrgfunk/\">\r\n                    DLRG Funk\r\n                </Link>\r\n                <button\r\n                    className=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#navbarNavAltMarkup\"\r\n                    aria-controls=\"navbarNavAltMarkup\"\r\n                    aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\"\r\n                >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div\r\n                    className=\"collapse navbar-collapse justify-content-end\"\r\n                    id=\"navbarNavAltMarkup\"\r\n                >\r\n                    {auth().currentUser ? (\r\n                        <div className=\"navbar-nav\">\r\n                            <Link\r\n                                className=\"nav-item nav-link mr-3 training\"\r\n                                to=\"/dlrgfunk/join\"\r\n                            >\r\n                                Übung\r\n                            </Link>\r\n                            <button\r\n                                className=\"btn btn-primary mr-3\"\r\n                                onClick={() => auth().signOut()}\r\n                            >\r\n                                Ausloggen\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"navbar-nav\">\r\n                            <Link\r\n                                className=\"nav-item nav-link mr-3\"\r\n                                to=\"/dlrgfunk/login\"\r\n                            >\r\n                                Einloggen\r\n                            </Link>\r\n                            <Link\r\n                                className=\"nav-item nav-link mr-3\"\r\n                                to=\"/dlrgfunk/signup\"\r\n                            >\r\n                                Registrieren\r\n                            </Link>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"pt-5\">\r\n            <div className=\"container text-center\">\r\n                <p>&copy; Mogens Meißner 2020</p>\r\n                <p>\r\n                    Basierend auf einem Tutorial von&nbsp;\r\n                    <a\r\n                        href=\"https://github.com/Dunebook\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                    >\r\n                        Dunebook\r\n                    </a>\r\n                </p>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"home\">\r\n                <Header></Header>\r\n                <section>\r\n                    <div className=\"jumbotron jumbotron-fluid py-5\">\r\n                        <div className=\"container text-center py-5\">\r\n                            <h1 className=\"display-4\">\r\n                                Willkommen zu DLRG Online Funkübungen\r\n                            </h1>\r\n                            <p className=\"lead\">\r\n                                Ein Programm um Erfahrung im Funken außerhalb\r\n                                des Wachdiensts zu sammeln.\r\n                            </p>\r\n                            {!this.props.authenticated ? (\r\n                                <div className=\"mt-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-primary px-5 mr-3\"\r\n                                        to=\"/dlrgfunk/signup\"\r\n                                    >\r\n                                        Registrieren\r\n                                    </Link>\r\n                                    <Link\r\n                                        className=\"btn px-5\"\r\n                                        to=\"/dlrgfunk/login\"\r\n                                    >\r\n                                        Einloggen\r\n                                    </Link>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"mt-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-primary px-5 mr-3\"\r\n                                        to=\"/dlrgfunk/join\"\r\n                                    >\r\n                                        Übung beitreten\r\n                                    </Link>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <Footer></Footer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","const operations = [\"+\", \"-\", \"*\"];\r\nconst clothing = [\r\n    \"e Hose\",\r\n    \"e Jacke\",\r\n    \"e Mütze\",\r\n    \" T-Shirt\",\r\n    \" Paar Handschuhe\",\r\n];\r\n\r\nexport function randomTerm() {\r\n    const firstPart = Math.round(Math.random() * 100);\r\n    const secondPart = Math.round(Math.random() * 100);\r\n    const operator =\r\n        operations[Math.round(Math.random() * (operations.length - 1))];\r\n\r\n    return firstPart + \" \" + operator + \" \" + secondPart;\r\n}\r\n\r\nexport function randomClothing() {\r\n    return clothing[Math.round(Math.random() * (clothing.length - 1))];\r\n}\r\n\r\nexport function age(birthday) {\r\n    const ageDifMs = Date.now() - new Date(birthday).getTime();\r\n    const ageDate = new Date(ageDifMs);\r\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n}\r\n\r\nconst messages = [\r\n    \"Restdruck auf Sauerstoffflasche beträgt 20 bar\",\r\n    \"2 WG e-klar\",\r\n    \"Auf unserem Turmrucksack fehlen 2 Kühlpacks und ein Verbandpäckchen groß\",\r\n    \"Wir haben eine Wassertemperatur von 18°C gemessen\",\r\n    \"Vor Turm 4 befindet sich ein Motorboot innerhalb der Badezone\",\r\n    'Ein Badegast meldet eine gestürzte Person auf der Promenade in Höhe der Bar \"Wir haben nichts\"',\r\n];\r\n\r\nexport function getMessage() {\r\n    return messages[Math.round(Math.random() * (messages.length - 1))];\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { auth, db, firestore } from \"../services/firebase\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { randomTerm, randomClothing, age, getMessage } from \"../helpers/calc\";\r\n\r\nexport default class Chat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            chats: [],\r\n            station: this.getStation(),\r\n            content: \"\",\r\n            readError: null,\r\n            writeError: null,\r\n            successMessage: \"\",\r\n            errorMessage: \"\",\r\n            loadingChats: false,\r\n            redirect: false,\r\n            otherStations: [],\r\n            selectedValues: [],\r\n            persons: [],\r\n            docId: \"\",\r\n            wantingMore: false,\r\n        };\r\n        this.change = this.change.bind(this);\r\n        this.handleCalc = this.handleCalc.bind(this);\r\n        this.handlePerson = this.handlePerson.bind(this);\r\n        this.handleAlarm = this.handleAlarm.bind(this);\r\n        this.handleBridge = this.handleBridge.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleWantingMore = this.handleWantingMore.bind(this);\r\n        this.myRef = React.createRef();\r\n    }\r\n\r\n    getStation() {\r\n        if (this.props.location.state !== undefined) {\r\n            return this.props.location.state.station;\r\n        }\r\n        return {\r\n            data: {},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ readError: null, loadingChats: true });\r\n        let redirect = true;\r\n        let stationsRef = firestore.collection(\r\n            `cities/${this.props.location.state.city.id}/stations`\r\n        );\r\n        await stationsRef\r\n            .where(\"uid\", \"==\", this.state.user.uid) //Check ob es Station mit uid gibt\r\n            .get()\r\n            .then((snaps) => {\r\n                snaps.forEach((snap) => {\r\n                    redirect = false;\r\n                    this.setState({ docId: snap.id });\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                redirect = true;\r\n                console.error(err);\r\n            });\r\n        this.setState({ redirect });\r\n        if (redirect) return; //keine weiteren Daten abrufen\r\n        this.stationUpdateListener = stationsRef\r\n            .doc(this.state.station.id)\r\n            .onSnapshot((snap) => {\r\n                const data = snap.data();\r\n                if (data.uid !== this.state.user.uid) {\r\n                    this.setState({ redirect: true }); //kick User\r\n                }\r\n            });\r\n        if (this.state.station.data.Bezeichnung === \"\") {\r\n            //Lehrgangsleitung\r\n            await stationsRef\r\n                .where(\"Bezeichnung\", \">\", \"\")\r\n                .get()\r\n                .then((snaps) => {\r\n                    const stations = [];\r\n                    snaps.forEach((snap) => {\r\n                        stations.push(snap.data());\r\n                    });\r\n                    stations.sort(function (a, b) {\r\n                        if (a.Bezeichnung < b.Bezeichnung) return -1;\r\n                        if (a.Bezeichnung >= b.Bezeichnung) return 1;\r\n                        return 0;\r\n                    });\r\n                    this.setState({ otherStations: stations });\r\n                });\r\n            this.listener = stationsRef\r\n                .where(\"Bezeichnung\", \">\", \"\")\r\n                .onSnapshot((snaps) => {\r\n                    const stations = [];\r\n                    snaps.forEach((snap) => {\r\n                        stations.push(snap.data());\r\n                    });\r\n                    stations.sort(function (a, b) {\r\n                        if (a.Bezeichnung < b.Bezeichnung) return -1;\r\n                        if (a.Bezeichnung >= b.Bezeichnung) return 1;\r\n                        return 0;\r\n                    });\r\n                    this.setState({ otherStations: stations });\r\n                });\r\n            await firestore\r\n                .collection(\"persons\")\r\n                .get()\r\n                .then((snaps) => {\r\n                    const persons = [];\r\n                    snaps.forEach((snap) => {\r\n                        persons.push(snap.data());\r\n                    });\r\n                    this.setState({ persons });\r\n                });\r\n        }\r\n\r\n        const chatArea = this.myRef.current;\r\n        if (this.state.station.data.Bezeichnung !== \"\") {\r\n            try {\r\n                db.ref(\r\n                    \"chats/\" +\r\n                        this.props.location.state.city.data.name +\r\n                        \"/\" +\r\n                        this.state.station.data.Bezeichnung\r\n                ).on(\"value\", (snapshot) => {\r\n                    let chats = [];\r\n                    snapshot.forEach((snap) => {\r\n                        chats.push(snap.val());\r\n                    });\r\n                    chats.sort(function (a, b) {\r\n                        return a.timestamp - b.timestamp;\r\n                    });\r\n                    this.setState({ chats });\r\n                    chatArea.scrollBy(0, chatArea.scrollHeight);\r\n                    this.setState({ loadingChats: false });\r\n                });\r\n            } catch (error) {\r\n                this.setState({\r\n                    readError: error.message,\r\n                    loadingChats: false,\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({ loadingChats: false });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (typeof this.listener === \"function\") {\r\n            this.listener();\r\n        }\r\n        if (typeof this.stationUpdateListener === \"function\") {\r\n            this.stationUpdateListener();\r\n        }\r\n        if (this.state.station.data.Bezeichnung !== \"\") {\r\n            db.ref(\r\n                \"chats/\" +\r\n                    this.props.location.state.city.data.name +\r\n                    \"/\" +\r\n                    this.state.station.data.Bezeichnung\r\n            ).off();\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            content: event.target.value,\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if (event !== undefined) event.preventDefault();\r\n        if (this.state.content === \"\") return; //Dont send when there is no content\r\n        this.setState({ writeError: null });\r\n\r\n        const chatArea = this.myRef.current || null;\r\n        try {\r\n            this.state.selectedValues.map(async (val) => {\r\n                await db\r\n                    .ref(\r\n                        \"chats/\" +\r\n                            this.props.location.state.city.data.name +\r\n                            \"/\" +\r\n                            val.replace(new RegExp(/(\\s\\((.*)\\))/), \"\")\r\n                    )\r\n                    .push({\r\n                        receiver: val.replace(new RegExp(/(\\s\\((.*)\\))/), \"\"),\r\n                        content: this.state.content,\r\n                        timestamp: Date.now(),\r\n                        uid: this.state.user.uid,\r\n                    })\r\n                    .then(() => {\r\n                        const successMessage =\r\n                            \"Die Nachricht an \" +\r\n                            val.replace(new RegExp(/(\\s\\((.*)\\))/), \"\") +\r\n                            \" wurde erfolgreich gesendet!\";\r\n                        this.setState({ successMessage });\r\n                    });\r\n            });\r\n            this.setState({ content: \"\" });\r\n            if (chatArea != null) {\r\n                chatArea.scrollBy(0, chatArea.scrollHeight);\r\n            }\r\n        } catch (error) {\r\n            this.setState({ writeError: error.message });\r\n        }\r\n    }\r\n    async handlePerson() {\r\n        if (this.state.persons.length === 1) {\r\n            await firestore\r\n                .collection(\"persons\")\r\n                .get()\r\n                .then((snaps) => {\r\n                    const persons = [];\r\n                    snaps.forEach((snap) => {\r\n                        persons.push(snap.data());\r\n                    });\r\n                    this.setState({ persons });\r\n                });\r\n        }\r\n        const person = this.state.persons[\r\n            Math.round(Math.random() * (this.state.persons.length - 1))\r\n        ];\r\n        const index = this.state.persons.indexOf(person);\r\n        if (index !== -1)\r\n            this.setState({\r\n                persons: [\r\n                    ...this.state.persons.filter(\r\n                        (el) => el.lastname !== person.lastname\r\n                    ),\r\n                ],\r\n            });\r\n        const content = `Ein besorgter Badegast kommt zu dir: Gesucht wird ${\r\n            person.firstname\r\n        } ${person.lastname}, ${age(person.birthday)} Jahre alt, ${\r\n            person.height\r\n        } cm groß und trägt ein${randomClothing()} in der Farbe ${\r\n            person.color\r\n        }. Gib diese Suchmeldung an den Adler Bietigheim weiter!`;\r\n        this.setState({ content });\r\n    }\r\n\r\n    handleCalc() {\r\n        const content =\r\n            \"Löse folgende Rechenaufgabe und melde sowohl Aufgabe als auch Ergebnis an den Adler \" +\r\n            this.state.station.data.Ort +\r\n            \": \" +\r\n            randomTerm();\r\n        this.setState({ content });\r\n    }\r\n\r\n    async handleDelete() {\r\n        this.state.selectedValues.forEach(async (val) => {\r\n            await db\r\n                .ref(\r\n                    \"chats/\" +\r\n                        this.props.location.state.city.data.name +\r\n                        \"/\" +\r\n                        val.replace(new RegExp(/(\\s\\((.*)\\))/), \"\")\r\n                )\r\n                .set(null)\r\n                .then(() => {\r\n                    const successMessage =\r\n                        \"Die Nachrichten von \" +\r\n                        val.replace(new RegExp(/(\\s\\((.*)\\))/), \"\") +\r\n                        \" wurden erfolgreich gelöscht!\";\r\n                    this.setState({ successMessage });\r\n                });\r\n        });\r\n    }\r\n\r\n    handleBridge() {\r\n        if (this.state.selectedValues.length !== 1) {\r\n            this.setState({ errorMessage: \"Nur eine Station auswählen!\" });\r\n            return;\r\n        }\r\n        const seatedStations = this.state.otherStations.filter(\r\n            (station) =>\r\n                station.name !== \"\" &&\r\n                this.state.selectedValues[0].replace(\r\n                    new RegExp(/(\\s\\((.*)\\))/),\r\n                    \"\"\r\n                ) !== station.Bezeichnung\r\n        );\r\n        if (seatedStations.length === 0) {\r\n            this.setState({\r\n                errorMessage:\r\n                    \"Es muss einen Überträger / 2 besetzte Stationen geben!\",\r\n            });\r\n            return;\r\n        }\r\n        const station =\r\n            seatedStations[\r\n                Math.round(Math.random() * (seatedStations.length - 1))\r\n            ];\r\n        const content =\r\n            \"Du hast mehrfach versucht den Adler Bietigheim anzufunken, jedoch bist du außer Reichweite. Glücklicherweise bist du in Reichweite von \" +\r\n            station.Bezeichnung +\r\n            \". Mache eine Funkbrücke über \" +\r\n            station.Bezeichnung +\r\n            \" und übermittle folgende Nachricht an den Adler Bietigheim: \" +\r\n            getMessage();\r\n        this.setState({ content });\r\n    }\r\n\r\n    handleAlarm() {\r\n        const content =\r\n            \"Alarm! Du entdeckst eine Person südlich der Badeinsel. Die Person droht unterzugehen! Dein Kamerad ist ins Wasser gegangen! Melde die Lage umgehend an den Adler Bietigheim!\";\r\n        this.setState({ content });\r\n    }\r\n\r\n    async handleWantingMore() {\r\n        let stationsRef = firestore.collection(\r\n            `cities/${this.props.location.state.city.id}/stations`\r\n        );\r\n        await stationsRef.doc(this.state.docId).update({\r\n            wantingMore: true,\r\n        });\r\n        this.setState({ wantingMore: true });\r\n        setTimeout(\r\n            function () {\r\n                stationsRef.doc(this.state.docId).update({\r\n                    wantingMore: false,\r\n                });\r\n                this.setState({ wantingMore: false });\r\n            }.bind(this),\r\n            10000\r\n        );\r\n    }\r\n\r\n    redirect = () => {\r\n        return (\r\n            <Redirect\r\n                to={{\r\n                    pathname: \"/dlrgfunk/join\",\r\n                }}\r\n            />\r\n        );\r\n    };\r\n\r\n    formatTime(timestamp) {\r\n        const d = new Date(timestamp);\r\n        let minutes = d.getMinutes();\r\n        if (minutes < 10) minutes = \"0\" + minutes;\r\n        const time = `${d.getDate()}.${\r\n            d.getMonth() + 1\r\n        }.${d.getFullYear()} ${d.getHours()}:${minutes}`;\r\n        return time;\r\n    }\r\n\r\n    change(val) {\r\n        const selectedValues = [];\r\n        [...val.target.selectedOptions].forEach((el) => {\r\n            selectedValues.push(el.value);\r\n        });\r\n        this.setState({ selectedValues });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"wrapper\">\r\n                    <div className=\"content\">\r\n                        {this.state.redirect ? this.redirect() : \"\"}\r\n                        <h3>\r\n                            Du bist&nbsp;\r\n                            {this.state.station.data.Rufname +\r\n                                \" \" +\r\n                                this.state.station.data.Ort +\r\n                                \" \" +\r\n                                this.state.station.data.Bezeichnung}\r\n                        </h3>\r\n                        {this.state.station.data.Bezeichnung !== \"\" ? (\r\n                            <div className=\"chat-area\" ref={this.myRef}>\r\n                                {this.state.loadingChats ? (\r\n                                    <div\r\n                                        className=\"spinner-border text-success\"\r\n                                        role=\"status\"\r\n                                    >\r\n                                        <span className=\"sr-only\">\r\n                                            Loading...\r\n                                        </span>\r\n                                    </div>\r\n                                ) : (\r\n                                    \"\"\r\n                                )}\r\n                                {this.state.chats.slice(-2).map((chat) => {\r\n                                    //Last 2 messages\r\n                                    if (chat.content === \"\") return \"\";\r\n                                    const newMessage =\r\n                                        Date.now() - chat.timestamp < 3000;\r\n                                    const alarm = chat.content.includes(\r\n                                        \"Alarm!\"\r\n                                    );\r\n                                    return (\r\n                                        <p\r\n                                            key={chat.timestamp}\r\n                                            className={\r\n                                                \"chat-bubble \" +\r\n                                                (newMessage ? \"new \" : \"\") +\r\n                                                (alarm ? \"alarm\" : \"\")\r\n                                            }\r\n                                            onClick={\r\n                                                newMessage\r\n                                                    ? (event) => {\r\n                                                          event.target.classList.remove(\r\n                                                              \"new\"\r\n                                                          );\r\n                                                      }\r\n                                                    : () => {}\r\n                                            }\r\n                                        >\r\n                                            {chat.content}\r\n                                            <br />\r\n                                            <span className=\"chat-time float-right\">\r\n                                                {this.formatTime(\r\n                                                    chat.timestamp\r\n                                                )}\r\n                                            </span>\r\n                                        </p>\r\n                                    );\r\n                                })}\r\n                                <br />\r\n                                {!this.state.wantingMore ? (\r\n                                    <button\r\n                                        className=\"btn btn-success\"\r\n                                        onClick={this.handleWantingMore}\r\n                                    >\r\n                                        Ich würde gerne eine Aufgabe bekommen!\r\n                                    </button>\r\n                                ) : (\r\n                                    \"\"\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            <form onSubmit={this.handleSubmit} className=\"mx-3\">\r\n                                <div className=\"form-group select\">\r\n                                    <select\r\n                                        multiple\r\n                                        className=\"form-control\"\r\n                                        onChange={this.change}\r\n                                    >\r\n                                        {this.state.otherStations.map(\r\n                                            (station) => {\r\n                                                return (\r\n                                                    <option\r\n                                                        key={\r\n                                                            station.Ort +\r\n                                                            station.Bezeichnung\r\n                                                        }\r\n                                                        className={\r\n                                                            station.wantingMore\r\n                                                                ? \"wantingMore\"\r\n                                                                : \"\"\r\n                                                        }\r\n                                                    >\r\n                                                        {station.Bezeichnung}\r\n                                                        {station.name !== \"\"\r\n                                                            ? ` (${station.name})`\r\n                                                            : \"\"}\r\n                                                    </option>\r\n                                                );\r\n                                            }\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"buttonColumn\">\r\n                                    <button\r\n                                        className=\"btn btn-warning px-5 mb-2\"\r\n                                        onClick={this.handleCalc}\r\n                                    >\r\n                                        Rechenaufgabe\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"btn btn-warning px-5 mb-2\"\r\n                                        onClick={this.handlePerson}\r\n                                    >\r\n                                        Personensuche\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"btn btn-warning px-5 mb-2\"\r\n                                        onClick={this.handleBridge}\r\n                                    >\r\n                                        Funkbrücke\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        className=\"btn btn-warning px-5 mb-2\"\r\n                                        onClick={this.handleAlarm}\r\n                                    >\r\n                                        Alarm\r\n                                    </button>\r\n                                </div>\r\n                                <br />\r\n                                <button\r\n                                    className=\"btn btn-danger px-5 mb-2\"\r\n                                    onClick={this.handleDelete}\r\n                                >\r\n                                    Chat löschen\r\n                                </button>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    name=\"content\"\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.content}\r\n                                ></textarea>\r\n                                {this.state.writeError ? (\r\n                                    <p className=\"text-danger\">\r\n                                        {this.state.writeError}\r\n                                    </p>\r\n                                ) : null}\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-submit px-5 mt-4\"\r\n                                >\r\n                                    Absenden\r\n                                </button>\r\n                            </form>\r\n                        )}\r\n                        {this.state.successMessage !== \"\" ? (\r\n                            <div className=\"alert alert-success\">\r\n                                (\r\n                                {setTimeout(\r\n                                    function () {\r\n                                        this.setState({ successMessage: \"\" });\r\n                                    }.bind(this),\r\n                                    5000\r\n                                )}\r\n                                )&nbsp;\r\n                                {this.state.successMessage}\r\n                            </div>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                        {this.state.errorMessage !== \"\" ? (\r\n                            <div className=\"alert alert-danger\">\r\n                                (\r\n                                {setTimeout(\r\n                                    function () {\r\n                                        this.setState({ errorMessage: \"\" });\r\n                                    }.bind(this),\r\n                                    5000\r\n                                )}\r\n                                )&nbsp;{this.state.errorMessage}\r\n                            </div>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                        <div className=\"py-5 mx-3 info\">\r\n                            Eingeloggt als:{\" \"}\r\n                            <strong className=\"text-info\">\r\n                                {this.state.user.email}\r\n                            </strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { auth } from \"../services/firebase\";\r\n\r\nexport function signup(email, password) {\r\n    return auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signin(email, password) {\r\n    return auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n    const provider = new auth.GoogleAuthProvider();\r\n    return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n    const provider = new auth.GithubAuthProvider();\r\n    return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInAnonymous() {\r\n    return auth().signInAnonymously();\r\n}\r\n\r\nexport function logout() {\r\n    return auth().signOut();\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n    signup,\r\n    signInWithGoogle,\r\n    signInWithGitHub,\r\n    signInAnonymous,\r\n} from \"../helpers/auth\";\r\nimport Header from \"../components/Header\";\r\n\r\nexport default class SignUp extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            error: null,\r\n            email: \"\",\r\n            password: \"\",\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.googleSignIn = this.googleSignIn.bind(this);\r\n        this.githubSignIn = this.githubSignIn.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({ error: \"\" });\r\n        try {\r\n            await signup(this.state.email, this.state.password);\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async googleSignIn() {\r\n        try {\r\n            await signInWithGoogle();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async githubSignIn() {\r\n        try {\r\n            await signInWithGitHub();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async anonSignIn() {\r\n        try {\r\n            await signInAnonymous();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Header></Header>\r\n                <form className=\"mt-5 py-5 px-5\" onSubmit={this.handleSubmit}>\r\n                    <h1>\r\n                        Registrieren im\r\n                        <Link className=\"title ml-2\" to=\"/dlrgfunk/\">\r\n                            DLRG Online Funk\r\n                        </Link>\r\n                    </h1>\r\n                    <p className=\"lead\">\r\n                        Füll die Felder unten aus um dich zu registrieren.\r\n                    </p>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            className=\"form-control signupmail\"\r\n                            placeholder=\"Email\"\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            onChange={this.handleChange}\r\n                            value={this.state.email}\r\n                        ></input>\r\n                    </div>\r\n                    <div className=\"form-group signupmail\">\r\n                        <input\r\n                            className=\"form-control signupmail\"\r\n                            placeholder=\"Password\"\r\n                            name=\"password\"\r\n                            onChange={this.handleChange}\r\n                            value={this.state.password}\r\n                            type=\"password\"\r\n                        ></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        {this.state.error ? (\r\n                            <p className=\"text-danger\">{this.state.error}</p>\r\n                        ) : null}\r\n                        <button\r\n                            className=\"btn btn-primary px-5 signupbtn\"\r\n                            type=\"submit\"\r\n                        >\r\n                            Registrieren\r\n                        </button>\r\n                    </div>\r\n                    <p>\r\n                        Du kannst dich auch mit folgenden Anbietern\r\n                        registrieren:\r\n                    </p>\r\n                    <button\r\n                        className=\"btn btn-danger mr-2 signupbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.googleSignIn}\r\n                    >\r\n                        Registrieren mit Google\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-secondary mr-2 signupbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.githubSignIn}\r\n                    >\r\n                        Registrieren mit GitHub\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-dark loginbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.anonSignIn}\r\n                    >\r\n                        Anonym Anmelden\r\n                    </button>\r\n                    <hr></hr>\r\n                    <p>\r\n                        Du hast dich schon registriert?{\" \"}\r\n                        <Link to=\"/dlrgfunk/login\">Login</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport {\r\n    signin,\r\n    signInWithGoogle,\r\n    signInWithGitHub,\r\n    signInAnonymous,\r\n} from \"../helpers/auth\";\r\n\r\nexport default class Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            error: null,\r\n            email: \"\",\r\n            password: \"\",\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.googleSignIn = this.googleSignIn.bind(this);\r\n        this.githubSignIn = this.githubSignIn.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({ error: \"\" });\r\n        try {\r\n            await signin(this.state.email, this.state.password);\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async googleSignIn() {\r\n        try {\r\n            await signInWithGoogle();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async githubSignIn() {\r\n        try {\r\n            await signInWithGitHub();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    async anonSignIn() {\r\n        try {\r\n            await signInAnonymous();\r\n        } catch (error) {\r\n            this.setState({ error: error.message });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Header></Header>\r\n                <form\r\n                    className=\"mt-5 py-5 px-5\"\r\n                    autoComplete=\"off\"\r\n                    onSubmit={this.handleSubmit}\r\n                >\r\n                    <h1>\r\n                        Anmelden im\r\n                        <Link className=\"title ml-2\" to=\"/dlrgfunk/\">\r\n                            DLRG Online Funk\r\n                        </Link>\r\n                    </h1>\r\n                    <p className=\"lead\">\r\n                        Fülle die Felder unten aus, um dich einzuloggen.\r\n                    </p>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            className=\"form-control loginmail\"\r\n                            placeholder=\"Email\"\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            onChange={this.handleChange}\r\n                            value={this.state.email}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            className=\"form-control loginmail\"\r\n                            placeholder=\"Passwort\"\r\n                            name=\"password\"\r\n                            onChange={this.handleChange}\r\n                            value={this.state.password}\r\n                            type=\"password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        {this.state.error ? (\r\n                            <p className=\"text-danger\">{this.state.error}</p>\r\n                        ) : null}\r\n                        <button\r\n                            className=\"btn btn-primary px-5 loginbtn\"\r\n                            type=\"submit\"\r\n                        >\r\n                            Anmelden\r\n                        </button>\r\n                    </div>\r\n                    <p>Du kannst dich auch mit folgenden Anbietern anmelden:</p>\r\n                    <button\r\n                        className=\"btn btn-danger mr-2 loginbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.googleSignIn}\r\n                    >\r\n                        Anmelden mit Google\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-secondary mr-2 loginbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.githubSignIn}\r\n                    >\r\n                        Anmelden mit GitHub\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-dark loginbtn\"\r\n                        type=\"button\"\r\n                        onClick={this.anonSignIn}\r\n                    >\r\n                        Anonym Anmelden\r\n                    </button>\r\n                    <hr />\r\n                    <p>\r\n                        Noch keinen Account?{\" \"}\r\n                        <Link to=\"/dlrgfunk/signup\">Registrieren</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { firestore } from \"../services/firebase\";\r\n\r\nexport default class Chat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            readError: null,\r\n            writeError: null,\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            birthday: \"\",\r\n            color: \"\",\r\n            height: \"\",\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.myRef = React.createRef();\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({ writeError: null });\r\n        try {\r\n            await firestore.collection(\"persons\").add({\r\n                birthday: this.state.birthday,\r\n                color: this.state.color,\r\n                firstname: this.state.firstname,\r\n                lastname: this.state.lastname,\r\n                height: this.state.height,\r\n            });\r\n            this.setState({\r\n                birthday: \"\",\r\n                color: \"\",\r\n                firstname: \"\",\r\n                lastname: \"\",\r\n                height: \"\",\r\n            });\r\n        } catch (error) {\r\n            this.setState({ writeError: error.message });\r\n        }\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <form onSubmit={this.handleSubmit} className=\"mx-3 teacher\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"firstname\"\r\n                        placeholder=\"Vorname\"\r\n                        onChange={this.updateInput}\r\n                        value={this.state.firstname}\r\n                    />\r\n                    <br />\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"lastname\"\r\n                        placeholder=\"Nachname\"\r\n                        onChange={this.updateInput}\r\n                        value={this.state.lastname}\r\n                    />\r\n                    <br />\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"number\"\r\n                        name=\"height\"\r\n                        placeholder=\"Größe in cm\"\r\n                        onChange={this.updateInput}\r\n                        value={this.state.height}\r\n                    />\r\n                    <br />\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"date\"\r\n                        name=\"birthday\"\r\n                        placeholder=\"Geburtstag\"\r\n                        onChange={this.updateInput}\r\n                        value={this.state.birthday}\r\n                    />\r\n                    <br />\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"color\"\r\n                        placeholder=\"Farbe\"\r\n                        onChange={this.updateInput}\r\n                        value={this.state.color}\r\n                    />\r\n                    <br />\r\n                    {this.state.writeError ? (\r\n                        <p className=\"text-danger\">{this.state.writeError}</p>\r\n                    ) : null}\r\n                    <button type=\"submit\" className=\"btn btn-submit px-5 mt-4\">\r\n                        Absenden\r\n                    </button>\r\n                </form>\r\n                <div className=\"py-5 mx-3\">\r\n                    Eingeloggt als:{\" \"}\r\n                    <strong className=\"text-info\">\r\n                        {this.state.user.email}\r\n                    </strong>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => <h1>404 - Diese Seite wurde nicht gefunden</h1>;\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { firestore } from \"../services/firebase\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport trash from \"../media/trash.svg\";\r\nimport check from \"../media/check.svg\";\r\n\r\nexport default class Funkteilnehmer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            username: \"\",\r\n            errorWrite: \"\",\r\n            redirect: false,\r\n        };\r\n\r\n        this.updateInput = this.updateInput.bind(this);\r\n        this.redirect = this.redirect.bind(this);\r\n        this.linkClicked = this.linkClicked.bind(this);\r\n\r\n        this.ref = React.createRef();\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    redirect = () => {\r\n        return (\r\n            <Redirect\r\n                to={{\r\n                    pathname: \"/dlrgfunk/chat\",\r\n                    state: {\r\n                        station: this.props.station,\r\n                        city: this.props.city,\r\n                    },\r\n                }}\r\n            />\r\n        );\r\n    };\r\n\r\n    async linkClicked(e) {\r\n        if (\r\n            this.state.username !== \"\" &&\r\n            this.state.user.uid !== this.props.station.data.uid &&\r\n            this.props.station.data.uid === \"\"\r\n        ) {\r\n            //JOIN ACTION\r\n            let cancelled = false;\r\n            let stationsRef = firestore.collection(\r\n                `cities/${this.props.city.id}/stations`\r\n            );\r\n            let stationRef = stationsRef.doc(this.props.station.id);\r\n\r\n            await stationsRef\r\n                .where(\"uid\", \"==\", this.state.user.uid)\r\n                .get()\r\n                .then((snaps) => {\r\n                    snaps.forEach((snap) => {\r\n                        this.setState({\r\n                            errorWrite:\r\n                                \"Bitte zuerst aus der anderen Sitzung ausloggen!\",\r\n                        });\r\n                        cancelled = true;\r\n                    });\r\n                });\r\n\r\n            if (cancelled) return;\r\n\r\n            await stationRef.get().then((val) => {\r\n                //Checken ob Station schon besetzt\r\n                const data = val.data();\r\n                if (data.uid !== \"\" || data.name !== \"\") cancelled = true;\r\n            });\r\n\r\n            if (cancelled) return;\r\n\r\n            if (this.props.station.data.Bezeichnung === \"\") {\r\n                const name = prompt(\"Admin Passwort\");\r\n                if (name !== \"1234\") {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            await stationRef\r\n                .update({\r\n                    uid: this.state.user.uid,\r\n                    name: this.state.username,\r\n                })\r\n                .then((res) => {\r\n                    this.setState({ redirect: true });\r\n                })\r\n                .catch((err) => {\r\n                    this.setState({ errorWrite: err });\r\n                    e.preventDefault();\r\n                });\r\n        } else if (\r\n            this.state.user.uid === this.props.station.data.uid &&\r\n            [...e.currentTarget.classList].includes(\"joinBtn\")\r\n            //REJOIN ACTION\r\n        ) {\r\n            this.setState({ redirect: true });\r\n        } else if (this.state.user.uid === this.props.station.data.uid) {\r\n            //DELETE ACTION\r\n            let stationRef = firestore\r\n                .collection(`cities/${this.props.city.id}/stations`)\r\n                .doc(this.props.station.id);\r\n\r\n            await stationRef\r\n                .update({\r\n                    uid: \"\",\r\n                    name: \"\",\r\n                })\r\n                .then((res) => {\r\n                    this.setState({\r\n                        username: \"\",\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    this.setState({ errorWrite: err });\r\n                    e.preventDefault();\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.errorWrite !== \"\") {\r\n            alert(this.state.errorWrite);\r\n            this.setState({ errorWrite: \"\" });\r\n        }\r\n\r\n        return (\r\n            <div className=\"funkteilnehmer\">\r\n                {this.state.redirect ? this.redirect() : \"\"}\r\n                <span>\r\n                    {this.props.station.data.Rufname +\r\n                        \" \" +\r\n                        this.props.station.data.Ort +\r\n                        \" \" +\r\n                        this.props.station.data.Bezeichnung}\r\n                </span>\r\n                <input\r\n                    className=\"funk-name form-control\"\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    placeholder=\"Name\"\r\n                    onChange={this.updateInput}\r\n                    value={\r\n                        this.props.station.data.uid !== \"\"\r\n                            ? this.props.station.data.name\r\n                            : this.state.username\r\n                    }\r\n                    disabled={\r\n                        this.props.station.data.uid !== \"\" ? \"disabled\" : \"\"\r\n                    }\r\n                />\r\n                <button\r\n                    className={\r\n                        this.props.station.data.uid !== this.state.user.uid\r\n                            ? this.props.station.data.uid !== \"\"\r\n                                ? \"btn btn-primary px-5 ml-3 disabled\"\r\n                                : \"btn btn-primary px-5 ml-3\"\r\n                            : \"btn btn-danger delete\"\r\n                    }\r\n                    onClick={this.linkClicked}\r\n                    disabled={\r\n                        this.props.station.data.uid !== \"\" &&\r\n                        this.props.station.data.uid !== this.state.user.uid\r\n                            ? \"disabled\"\r\n                            : \"\"\r\n                    }\r\n                >\r\n                    {this.props.station.data.uid !== this.state.user.uid ? (\r\n                        \"Beitreten\"\r\n                    ) : (\r\n                        <img src={trash} alt=\"trash\" />\r\n                    )}\r\n                </button>\r\n                {this.props.station.data.uid === this.state.user.uid ? (\r\n                    <button\r\n                        className=\"btn btn-success joinBtn\"\r\n                        onClick={this.linkClicked}\r\n                    >\r\n                        <img src={check} alt=\"check\" />\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Funkteilnehmer from \"../components/Funkteilnehmer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { firestore } from \"../services/firebase\";\r\n\r\nexport default class Join extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            city: this.getCity(),\r\n            stations: [],\r\n            readError: null,\r\n            writeError: null,\r\n            loadingStations: false,\r\n            newRufname: \"Adler\",\r\n            newOrt: this.getCityName(),\r\n            newBezeichnung: \"\",\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.myRef = React.createRef();\r\n    }\r\n\r\n    getCity() {\r\n        if (this.props.location.state !== undefined)\r\n            return this.props.location.state.city;\r\n        return null;\r\n    }\r\n\r\n    getCityName() {\r\n        if (this.props.location.state !== undefined)\r\n            return this.props.location.state.city.data.name;\r\n        return null;\r\n    }\r\n\r\n    getAdmin() {\r\n        this.state.stations.forEach((station) => {\r\n            if (\r\n                station.uid === this.state.user.uid &&\r\n                station.Bezeichnung === \"\"\r\n            )\r\n                return true;\r\n        });\r\n        return false;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ readError: null, loadingStations: true });\r\n        try {\r\n            await firestore\r\n                .collection(`cities/${this.state.city.id}/stations`)\r\n                .get()\r\n                .then((snapshot) => {\r\n                    let stations = [];\r\n                    snapshot.forEach((snap) => {\r\n                        stations.push({\r\n                            id: snap.id,\r\n                            data: snap.data(),\r\n                            input: \"\",\r\n                        });\r\n                    });\r\n                    stations.sort(function (a, b) {\r\n                        if (a.data.Bezeichnung < b.data.Bezeichnung) return -1;\r\n                        if (a.data.Bezeichnung >= b.data.Bezeichnung) return 1;\r\n                        return 0;\r\n                    });\r\n                    this.setState({ stations });\r\n                    this.setState({ loadingStations: false });\r\n                });\r\n            this.listener = firestore\r\n                .collection(`cities/${this.state.city.id}/stations`)\r\n                .where(\"Bezeichnung\", \">=\", \"\")\r\n                .onSnapshot((snaps) => {\r\n                    const newStations = [];\r\n                    snaps.forEach((snap) => {\r\n                        newStations.push({\r\n                            id: snap.id,\r\n                            data: snap.data(),\r\n                            input: \"\",\r\n                        });\r\n                    });\r\n                    newStations.sort(function (a, b) {\r\n                        if (a.Bezeichnung < b.Bezeichnung) return -1;\r\n                        if (a.Bezeichnung >= b.Bezeichnung) return 1;\r\n                        return 0;\r\n                    });\r\n                    this.setState({ stations: newStations });\r\n                });\r\n        } catch (error) {\r\n            this.setState({ readError: error.message, loadingChats: false });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (typeof this.listener === \"function\") {\r\n            this.listener();\r\n        }\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({ writeError: null });\r\n        try {\r\n            if (this.state.newBezeichnung === \"\") return;\r\n            firestore\r\n                .collection(\"cities\")\r\n                .doc(this.state.city.id)\r\n                .collection(\"stations\")\r\n                .add({\r\n                    Rufname: this.state.newRufname,\r\n                    Ort: this.state.newOrt,\r\n                    Bezeichnung: this.state.newBezeichnung,\r\n                    uid: \"\",\r\n                    name: \"\",\r\n                })\r\n                .then(() => {\r\n                    this.setState({\r\n                        stations: [\r\n                            ...this.state.stations,\r\n                            {\r\n                                id: Date.now(),\r\n                                data: {\r\n                                    Rufname: this.state.newRufname,\r\n                                    Ort: this.state.newOrt,\r\n                                    Bezeichnung: this.state.newBezeichnung,\r\n                                    uid: \"\",\r\n                                    name: \"\",\r\n                                    wantingMore: false,\r\n                                },\r\n                            },\r\n                        ],\r\n                    });\r\n                });\r\n        } catch (error) {\r\n            this.setState({ writeError: error.message });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"join\">\r\n                    {this.state.city === null ? (\r\n                        <Redirect to=\"/dlrgfunk/city\" />\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                    {this.state.loadingStations ? (\r\n                        <div\r\n                            className=\"spinner-border text-success\"\r\n                            role=\"status\"\r\n                        >\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    ) : (\r\n                        this.state.stations.map((station) => {\r\n                            return (\r\n                                <Funkteilnehmer\r\n                                    key={station.id}\r\n                                    city={this.state.city}\r\n                                    station={station}\r\n                                />\r\n                            );\r\n                        })\r\n                    )}\r\n                    {this.state.user.uid === \"6GD9eEtrrLZfwThwQtPEFKtQLqA3\" ? (\r\n                        <form onSubmit={this.handleSubmit} className=\"addForm\">\r\n                            <div className=\"form-group\">\r\n                                <label>\r\n                                    Rufname\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control addBtn\"\r\n                                        name=\"newRufname\"\r\n                                        value={this.state.newRufname}\r\n                                        onChange={this.handleChange}\r\n                                        disabled\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>\r\n                                    Ort\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control addBtn\"\r\n                                        name=\"newOrt\"\r\n                                        value={this.state.newOrt || \"\"}\r\n                                        onChange={this.handleChange}\r\n                                        disabled\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>\r\n                                    Bezeichnung\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control addBtn\"\r\n                                        name=\"newBezeichnung\"\r\n                                        value={this.state.newBezeichnung}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">\r\n                                Hinzufügen\r\n                            </button>\r\n                        </form>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { auth } from \"../services/firebase\";\r\n\r\nexport default class Cities extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            redirect: false,\r\n        };\r\n    }\r\n\r\n    redirect = () => {\r\n        return (\r\n            <Redirect\r\n                to={{\r\n                    pathname: \"/dlrgfunk/join\",\r\n                    state: { city: this.props.city },\r\n                }}\r\n            />\r\n        );\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"input-group city\">\r\n                {this.state.redirect ? this.redirect() : \"\"}\r\n                <div className=\"input-group-prepend\">\r\n                    <div className=\"input-group-text\">\r\n                        {this.props.city.data.name}\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    className=\"form-control cityJoinBtn btn-success\"\r\n                    aria-describedby=\"btnGroupAddon\"\r\n                    onClick={() => {\r\n                        this.setState({ redirect: true });\r\n                    }}\r\n                >\r\n                    Beitreten\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Cities from \"../components/Cities\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { firestore } from \"../services/firebase\";\r\n\r\nexport default class Join extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            cities: [],\r\n            readError: null,\r\n            writeError: null,\r\n            loadingCities: false,\r\n        };\r\n        this.myRef = React.createRef();\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ readError: null, loadingCities: true });\r\n        try {\r\n            firestore\r\n                .collection(\"cities\")\r\n                .get()\r\n                .then((snapshot) => {\r\n                    let cities = [];\r\n                    snapshot.forEach((snap) => {\r\n                        cities.push({\r\n                            id: snap.id,\r\n                            data: snap.data(),\r\n                        });\r\n                    });\r\n                    cities.sort();\r\n                    this.setState({ cities });\r\n                    this.setState({ loadingCities: false });\r\n                });\r\n        } catch (error) {\r\n            this.setState({ readError: error.message, loadingCities: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const cities = this.state.cities.map((city) => {\r\n            return <Cities key={city.id} city={city} />;\r\n        });\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"cities\">\r\n                    {this.state.loadingCities ? (\r\n                        <div\r\n                            className=\"spinner-border text-success\"\r\n                            role=\"status\"\r\n                        >\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    ) : (\r\n                        cities\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n    Route,\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Chat from \"./pages/Chat\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Login from \"./pages/Login\";\r\nimport Teacher from \"./pages/Teacher\";\r\nimport NotFound from \"./pages/NotFound\";\r\nimport Join from \"./pages/Join\";\r\nimport City from \"./pages/City\";\r\n\r\nimport { auth } from \"./services/firebase\";\r\nimport \"./styles.css\";\r\n\r\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                authenticated === true ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/dlrgfunk/login\",\r\n                            state: { from: props.location },\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                authenticated === false ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect to=\"/dlrgfunk/city\" />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            authenticated: false,\r\n            loading: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                this.setState({\r\n                    authenticated: true,\r\n                    loading: false,\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    authenticated: false,\r\n                    loading: false,\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return this.state.loading === true ? (\r\n            <div\r\n                className=\"spinner-border text-success spinner-center\"\r\n                role=\"status\"\r\n            >\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        ) : (\r\n            <Router>\r\n                <Switch>\r\n                    <Route\r\n                        exact\r\n                        path=\"/dlrgfunk/\"\r\n                        render={(props) => (\r\n                            <Home\r\n                                {...props}\r\n                                authenticated={this.state.authenticated}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <PrivateRoute\r\n                        path=\"/dlrgfunk/teacher\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={Teacher}\r\n                    />\r\n                    <PrivateRoute\r\n                        path=\"/dlrgfunk/join\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={Join}\r\n                    />\r\n                    <PrivateRoute\r\n                        path=\"/dlrgfunk/city\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={City}\r\n                    />\r\n                    <PrivateRoute\r\n                        path=\"/dlrgfunk/chat\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={Chat}\r\n                    />\r\n                    <PublicRoute\r\n                        path=\"/dlrgfunk/signup\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={Signup}\r\n                    />\r\n                    <PublicRoute\r\n                        path=\"/dlrgfunk/login\"\r\n                        authenticated={this.state.authenticated}\r\n                        component={Login}\r\n                    />\r\n                    <Route component={NotFound} />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}